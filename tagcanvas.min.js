/**
 * Copyright (C) 2010-2014 Graham Breach
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * TagCanvas 2.4
 * For more information, please contact <graham@goat1000.com>
 */
(function(){var I,G,H=Math.abs,ab=Math.sin,u=Math.cos,q=Math.max,at=Math.min,ah=Math.ceil,B=Math.sqrt,aj=Math.pow,f={},h={},k={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},v,b,M,av,D,aw,A=document,n,a={};for(I=0;I<256;++I){G=I.toString(16);if(I<16){G="0"+G}h[G]=h[G.toUpperCase()]=I.toString()+","}function ac(i){return typeof i!="undefined"}function E(i){return typeof i=="object"&&i!=null}function al(i,j,ax){return isNaN(i)?ax:at(ax,q(j,i))}function ap(){return false}function C(){return new Date().valueOf()}function y(ax,aA){var j=[],ay=ax.length,az;for(az=0;az<ay;++az){j.push(ax[az])}j.sort(aA);return j}function ag(j){var ay=j.length-1,ax,az;while(ay){az=~~(Math.random()*ay);ax=j[ay];j[ay]=j[az];j[az]=ax;--ay}}function Y(i,ax,j){this.x=i;this.y=ax;this.z=j}D=Y.prototype;D.length=function(){return B(this.x*this.x+this.y*this.y+this.z*this.z)};D.dot=function(i){return this.x*i.x+this.y*i.y+this.z*i.z};D.cross=function(j){var i=this.y*j.z-this.z*j.y,ay=this.z*j.x-this.x*j.z,ax=this.x*j.y-this.y*j.x;return new Y(i,ay,ax)};D.angle=function(j){var i=this.dot(j),ax;if(i==0){return Math.PI/2}ax=i/(this.length()*j.length());if(ax>=1){return 0}if(ax<=-1){return Math.PI}return Math.acos(ax)};D.unit=function(){var i=this.length();return new Y(this.x/i,this.y/i,this.z/i)};function ad(ax,j){j=j*Math.PI/180;ax=ax*Math.PI/180;var i=ab(ax)*u(j),az=-ab(j),ay=-u(ax)*u(j);return new Y(i,az,ay)}function N(i){this[1]={1:i[0],2:i[1],3:i[2]};this[2]={1:i[3],2:i[4],3:i[5]};this[3]={1:i[6],2:i[7],3:i[8]}}av=N.prototype;N.Identity=function(){return new N([1,0,0,0,1,0,0,0,1])};N.Rotation=function(ay,i){var j=ab(ay),ax=u(ay),az=1-ax;return new N([ax+aj(i.x,2)*az,i.x*i.y*az-i.z*j,i.x*i.z*az+i.y*j,i.y*i.x*az+i.z*j,ax+aj(i.y,2)*az,i.y*i.z*az-i.x*j,i.z*i.x*az-i.y*j,i.z*i.y*az+i.x*j,ax+aj(i.z,2)*az])};av.mul=function(ax){var ay=[],aB,aA,az=(ax.xform?1:0);for(aB=1;aB<=3;++aB){for(aA=1;aA<=3;++aA){if(az){ay.push(this[aB][1]*ax[1][aA]+this[aB][2]*ax[2][aA]+this[aB][3]*ax[3][aA])}else{ay.push(this[aB][aA]*ax)}}}return new N(ay)};av.xform=function(ax){var j={},i=ax.x,az=ax.y,ay=ax.z;j.x=i*this[1][1]+az*this[2][1]+ay*this[3][1];j.y=i*this[1][2]+az*this[2][2]+ay*this[3][2];j.z=i*this[1][3]+az*this[2][3]+ay*this[3][3];return j};function o(ay,aA,aF,aC){var aB,aE,j,aD,aG=[],az=Math.PI*(3-B(5)),ax=2/ay;for(aB=0;aB<ay;++aB){aE=aB*ax-1+(ax/2);j=B(1-aE*aE);aD=aB*az;aG.push([u(aD)*j*aA,aE*aF,ab(aD)*j*aC])}return aG}function R(az,ax,aC,aI,aG){var aH,aJ=[],aA=Math.PI*(3-B(5)),ay=2/az,aF,aE,aD,aB;for(aF=0;aF<az;++aF){aE=aF*ay-1+(ay/2);aH=aF*aA;aD=u(aH);aB=ab(aH);aJ.push(ax?[aE*aC,aD*aI,aB*aG]:[aD*aC,aE*aI,aB*aG])}return aJ}function J(ax,ay,aB,aH,aF,aD){var aG,aI=[],az=Math.PI*2/ay,aE,aC,aA;for(aE=0;aE<ay;++aE){aG=aE*az;aC=u(aG);aA=ab(aG);aI.push(ax?[aD*aB,aC*aH,aA*aF]:[aC*aB,aD*aH,aA*aF])}return aI}function af(ay,i,j,ax){return R(ay,0,i,j,ax)}function ak(ay,i,j,ax){return R(ay,1,i,j,ax)}function c(az,i,j,ax,ay){ay=isNaN(ay)?0:ay*1;return J(0,az,i,j,ax,ay)}function l(az,i,j,ax,ay){ay=isNaN(ay)?0:ay*1;return J(1,az,i,j,ax,ay)}function Q(aA,i){var az=aA,ay,ax,j=(i*1).toPrecision(3)+")";if(aA[0]==="#"){if(!f[aA]){if(aA.length===4){f[aA]="rgba("+k[aA[1]]+k[aA[2]]+k[aA[3]]}else{f[aA]="rgba("+h[aA.substr(1,2)]+h[aA.substr(3,2)]+h[aA.substr(5,2)]}}az=f[aA]+j}else{if(aA.substr(0,4)==="rgb("||aA.substr(0,4)==="hsl("){az=(aA.replace("(","a(").replace(")",","+j))}else{if(aA.substr(0,5)==="rgba("||aA.substr(0,5)==="hsla("){ay=aA.lastIndexOf(",")+1,ax=aA.indexOf(")");i*=parseFloat(aA.substring(ay,ax));az=aA.substr(0,ay)+i.toPrecision(3)+")"}}}return az}function L(i,j){if(window.G_vmlCanvasManager){return null}var ax=A.createElement("canvas");ax.width=i;ax.height=j;return ax}function ae(){var j=L(3,3),ay,ax;if(!j){return false}ay=j.getContext("2d");ay.strokeStyle="#000";ay.shadowColor="#fff";ay.shadowBlur=3;ay.globalAlpha=0;ay.strokeRect(2,2,2,2);ay.globalAlpha=1;ax=ay.getImageData(2,2,1,1);j=null;return(ax.data[0]>0)}function g(aE,j){var ax=1024,aA=aE.weightGradient,az,aC,ay,aD,aB;if(aE.gCanvas){aC=aE.gCanvas.getContext("2d")}else{aE.gCanvas=az=L(ax,1);if(!az){return null}aC=az.getContext("2d");aD=aC.createLinearGradient(0,0,ax,0);for(ay in aA){aD.addColorStop(1-ay,aA[ay])}aC.fillStyle=aD;aC.fillRect(0,0,ax,1)}aB=aC.getImageData(~~((ax-1)*j),0,1,1).data;return"rgba("+aB[0]+","+aB[1]+","+aB[2]+","+(aB[3]/255)+")"}function T(aG,az,j,aI,aA,aF,aB,ay,aE,aH){var aD=aA+(aB||0)+(ay&&ay[0]<0?H(ay[0]):0),ax=aA+(aB||0)+(ay&&ay[1]<0?H(ay[1]):0),aC,aJ;aG.font=az;aG.textBaseline="top";aG.fillStyle=j;aF&&(aG.shadowColor=aF);aB&&(aG.shadowBlur=aB);ay&&(aG.shadowOffsetX=ay[0],aG.shadowOffsetY=ay[1]);for(aC=0;aC<aI.length;++aC){aJ=aH?(aE-aH[aC])/2:0;aG.fillText(aI[aC],aD+aJ,ax);ax+=parseInt(az)}}function ai(aB,i,aA,j,ay,az,ax){if(az){aB.beginPath();aB.moveTo(i,aA+ay-az);aB.arcTo(i,aA,i+az,aA,az);aB.arcTo(i+j,aA,i+j,aA+az,az);aB.arcTo(i+j,aA+ay,i+j-az,aA+ay,az);aB.arcTo(i,aA+ay,i,aA+ay-az,az);aB.closePath();aB[ax?"stroke":"fill"]()}else{aB[ax?"strokeRect":"fillRect"](i,aA,j,ay)}}function t(aB,aJ,aD,aO,aE,aL,aC,aM,aK,aI,i,aG,aA,aH,aQ){var ay=aD+H(i[0])+2*(aI+aG)+aM,aF=aO+H(i[1])+2*(aI+aG)+aM,az,aR,aP,aN,ax,j;az=L(ay,aF);if(!az){return null}aP=ax=aM/2;aN=ay-aM;j=aF-aM;aG+=aP;aR=az.getContext("2d");if(aL){aR.fillStyle=aL;ai(aR,aP,ax,aN,j,aA)}if(aM){aR.strokeStyle=aC;aR.lineWidth=aM;ai(aR,aP,ax,aN,j,aA,true)}T(aR,aJ,aE,aB,aG,aK,aI,i,aH,aQ);return az}function aq(aH,ax,aG,aB,aM,aI,aC){var aD=aH.width+(2*aM)+aG,j=aH.height+(2*aM)+aG,aF=L(aD,j),aJ,az,aL,ay,aK,aE,aA;if(!aF){return null}az=aL=aG/2;ay=aD-aG;aK=j-aG;aM+=az;aJ=aF.getContext("2d");if(ax){aJ.fillStyle=ax;ai(aJ,az,aL,ay,aK,aI)}if(aG){aJ.strokeStyle=aB;aJ.lineWidth=aG;ai(aJ,az,aL,ay,aK,aI,true)}if(aC){aE=L(aD,j);aA=aE.getContext("2d");aA.drawImage(aH,aM,aM,aH.width,aH.height);aA.globalCompositeOperation="source-in";aA.fillStyle=aB;aA.fillRect(0,0,aD,j);aA.globalCompositeOperation="destination-over";aA.drawImage(aF,0,0);aA.globalCompositeOperation="source-over";aJ.drawImage(aE,0,0)}else{aJ.drawImage(aH,aM,aM,aH.width,aH.height)}return aF}function V(aC,aF,aG,ay){var aH=H(ay[0]),aD=H(ay[1]),az=aC.width+(aH>aG?aH+aG:aG*2),j=aC.height+(aD>aG?aD+aG:aG*2),aB=(aG||0)+(ay[0]<0?aH:0),ax=(aG||0)+(ay[1]<0?aD:0),aA,aE;aA=L(az,j);if(!aA){return null}aE=aA.getContext("2d");aF&&(aE.shadowColor=aF);aG&&(aE.shadowBlur=aG);ay&&(aE.shadowOffsetX=ay[0],aE.shadowOffsetY=ay[1]);aE.drawImage(aC,aB,ax,aC.width,aC.height);return aA}function r(aJ,aB,aH){var aI=parseInt(aJ.toString().length*aH),aA=parseInt(aH*2*aJ.length),ay=L(aI,aA),aE,j,az,aD,aG,aF,ax,aC;if(!ay){return null}aE=ay.getContext("2d");aE.fillStyle="#000";aE.fillRect(0,0,aI,aA);T(aE,aH+"px "+aB,"#fff",aJ,0,0,0,[]);j=aE.getImageData(0,0,aI,aA);az=j.width;aD=j.height;aC={min:{x:az,y:aD},max:{x:-1,y:-1}};for(aF=0;aF<aD;++aF){for(aG=0;aG<az;++aG){ax=(aF*az+aG)*4;if(j.data[ax+1]>0){if(aG<aC.min.x){aC.min.x=aG}if(aG>aC.max.x){aC.max.x=aG}if(aF<aC.min.y){aC.min.y=aF}if(aF>aC.max.y){aC.max.y=aF}}}}if(az!=aI){aC.min.x*=(aI/az);aC.max.x*=(aI/az)}if(aD!=aA){aC.min.y*=(aI/aD);aC.max.y*=(aI/aD)}ay=null;return aC}function m(i){return"'"+i.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function X(i,j,ax){ax=ax||A;if(ax.addEventListener){ax.addEventListener(i,j,false)}else{ax.attachEvent("on"+i,j)}}function am(aA,aD,az,ax){var aB=ax.imageScale,j,aC,ay;if(!aD.complete){return X("load",function(){am(aA,aD,az,ax)},aD)}if(!aA.complete){return X("load",function(){am(aA,aD,az,ax)},aA)}aD.width=aD.width;aD.height=aD.height;if(aB){aA.width=aD.width*aB;aA.height=aD.height*aB}az.w=aA.width;az.h=aA.height;if(ax.txtOpt){if(ax.shadow){j=V(aA,ax.shadow,ax.shadowBlur,ax.shadowOffset);if(j){az.image=j;az.w=j.width;az.h=j.height}}if(ax.bgColour||ax.bgOutlineThickness){aC=ax.bgColour=="tag"?U(az.a,"background-color"):ax.bgColour;ay=ax.bgOutline=="tag"?U(az.a,"color"):(ax.bgOutline||ax.textColour);j=aq(az.image,aC,ax.bgOutlineThickness,ay,ax.padding,ax.bgRadius);if(ax.outlineMethod=="colour"){az.oimage=aq(az.image,aC,ax.bgOutlineThickness,ax.outlineColour,ax.padding,ax.bgRadius,true)}if(j){az.image=j;az.w=j.width;az.h=j.height}}}}function U(ay,ax){var j=A.defaultView,i=ax.replace(/\-([a-z])/g,function(az){return az.charAt(1).toUpperCase()});return(j&&j.getComputedStyle&&j.getComputedStyle(ay,null).getPropertyValue(ax))||(ay.currentStyle&&ay.currentStyle[i])}function s(ax,j){var i=1,ay;if(ax.weightFrom){i=1*(j.getAttribute(ax.weightFrom)||ax.textHeight)}else{if(ay=U(j,"font-size")){i=(ay.indexOf("px")>-1&&ay.replace("px","")*1)||(ay.indexOf("pt")>-1&&ay.replace("pt","")*1.25)||ay*3.3}else{ax.weight=false}}return i}function e(i){return i.target&&ac(i.target.id)?i.target.id:i.srcElement.parentNode.id}function O(az,aA){var ay,ax,i=parseInt(U(aA,"width"))/aA.width,j=parseInt(U(aA,"height"))/aA.height;if(ac(az.offsetX)){ay={x:az.offsetX,y:az.offsetY}}else{ax=W(aA.id);if(ac(az.changedTouches)){az=az.changedTouches[0]}if(az.pageX){ay={x:az.pageX-ax.x,y:az.pageY-ax.y}}}if(ay&&i&&j){ay.x/=i;ay.y/=j}return ay}function z(ax){var j=ax.target||ax.fromElement.parentNode,i=w.tc[j.id];if(i){i.mx=i.my=-1;i.UnFreeze();i.EndDrag()}}function Z(aB){var ay,ax=w,j,aA,az=e(aB);for(ay in ax.tc){j=ax.tc[ay];if(j.tttimer){clearTimeout(j.tttimer);j.tttimer=null}}if(az&&ax.tc[az]){j=ax.tc[az];if(aA=O(aB,j.canvas)){j.mx=aA.x;j.my=aA.y;j.Drag(aB,aA)}j.drawn=0}}function x(ay){var j=w,i=A.addEventListener?0:1,ax=e(ay);if(ax&&ay.button==i&&j.tc[ax]){j.tc[ax].BeginDrag(ay)}}function au(az){var ax=w,j=A.addEventListener?0:1,ay=e(az),i;if(ay&&az.button==j&&ax.tc[ay]){i=ax.tc[ay];Z(az);if(!i.EndDrag()&&!i.touched){i.Clicked(az)}}}function P(ax){var i=w,j=e(ax);if(j&&ax.changedTouches&&i.tc[j]){i.tc[j].touched=1;i.tc[j].BeginDrag(ax)}}function p(ax){var i=w,j=e(ax);if(j&&ax.changedTouches&&i.tc[j]){ao(ax);if(!i.tc[j].EndDrag()){i.tc[j].Draw();i.tc[j].Clicked(ax)}}}function ao(aB){var ay,ax=w,j,aA,az=e(aB);for(ay in ax.tc){j=ax.tc[ay];if(j.tttimer){clearTimeout(j.tttimer);j.tttimer=null}}if(az&&ax.tc[az]&&aB.changedTouches){j=ax.tc[az];if(aA=O(aB,j.canvas)){j.mx=aA.x;j.my=aA.y;j.Drag(aB,aA)}j.drawn=0}}function aa(ax){var i=w,j=e(ax);if(j&&i.tc[j]){ax.cancelBubble=true;ax.returnValue=false;ax.preventDefault&&ax.preventDefault();i.tc[j].Wheel((ax.wheelDelta||ax.detail)>0)}}function K(az){var j=w.tc,ay,ax;az=az||C();for(ay in j){ax=j[ay].interval;j[ay].Draw(az)}w.NextFrame(ax)}function W(ax){var aA=A.getElementById(ax),i=aA.getBoundingClientRect(),aD=A.documentElement,aB=A.body,aC=window,ay=aC.pageXOffset||aD.scrollLeft,aE=aC.pageYOffset||aD.scrollTop,az=aD.clientLeft||aB.clientLeft,j=aD.clientTop||aB.clientTop;return{x:i.left+ay-az,y:i.top+aE-j}}function S(j,ay,az,ax){var i=j.radius*j.z1/(j.z1+j.z2+ay.z);return{x:ay.x*i*az,y:ay.y*i*ax,z:ay.z,w:(j.z1-ay.z)/j.z2}}function ar(i){this.e=i;this.br=0;this.line=[];this.text=[];this.original=i.innerText||i.textContent}aw=ar.prototype;aw.Lines=function(az){var ay=az?1:0,aA,j,ax;az=az||this.e;aA=az.childNodes;j=aA.length;for(ax=0;ax<j;++ax){if(aA[ax].nodeName=="BR"){this.text.push(this.line.join(" "));this.br=1}else{if(aA[ax].nodeType==3){if(this.br){this.line=[aA[ax].nodeValue];this.br=0}else{this.line.push(aA[ax].nodeValue)}}else{this.Lines(aA[ax])}}}ay||this.br||this.text.push(this.line.join(" "));return this.text};aw.SplitWidth=function(ax,aE,aB,aA){var az,ay,aD,aC=[];aE.font=aA+"px "+aB;for(az=0;az<this.text.length;++az){aD=this.text[az].split(/\s+/);this.line=[aD[0]];for(ay=1;ay<aD.length;++ay){if(aE.measureText(this.line.join(" ")+" "+aD[ay]).width>ax){aC.push(this.line.join(" "));this.line=[aD[ay]]}else{this.line.push(aD[ay])}}aC.push(this.line.join(" "))}return this.text=aC};function F(i,j){this.ts=C();this.tc=i;this.tag=j;this.x=this.y=this.w=this.h=this.sc=1;this.z=0;this.Draw=i.pulsateTo<1&&i.outlineMethod!="colour"?this.DrawPulsate:this.DrawSimple;this.radius=i.outlineRadius|0;this.SetMethod(i.outlineMethod)}v=F.prototype;v.SetMethod=function(ax){var j={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],none:["LastDraw"]},i=j[ax]||j.outline;if(ax=="none"){this.Draw=function(){return 1}}else{this.drawFunc=this[i[1]]}this[i[0]]=this.Draw};v.Update=function(aD,aC,aE,az,aA,aB,ay,i){var j=this.tc.outlineOffset,ax=2*j;this.x=aA*aD+ay-j;this.y=aA*aC+i-j;this.w=aA*aE+ax;this.h=aA*az+ax;this.sc=aA;this.z=aB};v.DrawOutline=function(aA,i,az,j,ax,ay){aA.strokeStyle=ay;ai(aA,i,az,j,ax,this.radius,true)};v.DrawColour=function(ay,aB,az,aC,ax,i,aD,j,aA){if(aD.oimage){aD.alpha=1;aD.Draw(ay,j,aA,aD.oimage);return 1}return this[aD.image?"DrawColourImage":"DrawColourText"](ay,aB,az,aC,ax,i,aD,j,aA)};v.DrawColourText=function(az,aC,aA,aD,ax,i,aE,j,aB){var ay=aE.colour;aE.colour=i;aE.alpha=1;aE.Draw(az,j,aB);aE.colour=ay;return 1};v.DrawColourImage=function(aC,aF,aD,aG,aB,i,aJ,j,aE){var aH=aC.canvas,az=~~q(aF,0),ay=~~q(aD,0),aA=at(aH.width-az,aG)+0.5|0,aI=at(aH.height-ay,aB)+0.5|0,ax;if(n){n.width=aA,n.height=aI}else{n=L(aA,aI)}if(!n){return this.SetMethod("outline")}ax=n.getContext("2d");ax.drawImage(aH,az,ay,aA,aI,0,0,aA,aI);aC.clearRect(az,ay,aA,aI);aJ.alpha=1;aJ.Draw(aC,j,aE);aC.setTransform(1,0,0,1,0,0);aC.save();aC.beginPath();aC.rect(az,ay,aA,aI);aC.clip();aC.globalCompositeOperation="source-in";aC.fillStyle=i;aC.fillRect(az,ay,aA,aI);aC.restore();aC.globalCompositeOperation="destination-over";aC.drawImage(n,0,0,aA,aI,az,ay,aA,aI);aC.globalCompositeOperation="source-over";return 1};v.DrawBlock=function(aA,i,az,j,ax,ay){aA.fillStyle=ay;ai(aA,i,az,j,ax,this.radius)};v.DrawSimple=function(az,i,j,ay){var ax=this.tc;az.setTransform(1,0,0,1,0,0);az.strokeStyle=ax.outlineColour;az.lineWidth=ax.outlineThickness;az.shadowBlur=az.shadowOffsetX=az.shadowOffsetY=0;az.globalAlpha=1;return this.drawFunc(az,this.x,this.y,this.w,this.h,ax.outlineColour,i,j,ay)};v.DrawPulsate=function(aA,i,j,ay){var az=C()-this.ts,ax=this.tc;aA.setTransform(1,0,0,1,0,0);aA.strokeStyle=ax.outlineColour;aA.lineWidth=ax.outlineThickness;aA.shadowBlur=aA.shadowOffsetX=aA.shadowOffsetY=0;aA.globalAlpha=ax.pulsateTo+((1-ax.pulsateTo)*(0.5+(u(2*Math.PI*az/(1000*ax.pulsateTime))/2)));return this.drawFunc(aA,this.x,this.y,this.w,this.h,ax.outlineColour,i,j,ay)};v.Active=function(ax,i,j){return(i>=this.x&&j>=this.y&&i<=this.x+this.w&&j<=this.y+this.h)};v.PreDraw=v.PostDraw=v.LastDraw=ap;function d(ay,aJ,aF,aI,aG,az,ax,aB,aH,aA,aE,j,aD,i){var aC=ay.ctxt;this.tc=ay;this.image=aJ.src?aJ:null;this.text=aJ.src?[]:aJ;this.text_original=i;this.line_widths=[];this.title=aF.title||null;this.a=aF;this.position=new Y(aI[0],aI[1],aI[2]);this.x=this.y=this.z=0;this.w=aG;this.h=az;this.colour=ax||ay.textColour;this.bgColour=aB||ay.bgColour;this.bgRadius=aH|0;this.bgOutline=aA||this.colour;this.bgOutlineThickness=aE|0;this.textFont=j||ay.textFont;this.padding=aD|0;this.weight=this.sc=this.alpha=1;this.weighted=!ay.weight;this.outline=new F(ay,this);if(!this.image){this.textHeight=ay.textHeight;this.extents=r(this.text,this.textFont,this.textHeight);this.Measure(aC,ay)}this.SetShadowColour=ay.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed;this.SetDraw(ay)}b=d.prototype;b.EqualTo=function(ax){var j=ax.getElementsByTagName("img");if(this.a.href!=ax.href){return 0}if(j.length){return this.image.src==j[0].src}return(ax.innerText||ax.textContent)==this.text_original};b.SetDraw=function(i){this.Draw=this.image?(i.ie>7?this.DrawImageIE:this.DrawImage):this.DrawText;i.noSelect&&(this.CheckActive=ap)};b.MeasureText=function(aA){var ay,ax=this.text.length,j=0,az;for(ay=0;ay<ax;++ay){this.line_widths[ay]=az=aA.measureText(this.text[ay]).width;j=q(j,az)}return j};b.Measure=function(aB,j){this.h=this.extents?this.extents.max.y+this.extents.min.y:this.textHeight;aB.font=this.font=this.textHeight+"px "+this.textFont;this.w=this.MeasureText(aB);if(j.txtOpt){var ay=j.txtScale,az=ay*this.textHeight,aA=az+"px "+this.textFont,ax=[ay*j.shadowOffset[0],ay*j.shadowOffset[1]],i;aB.font=aA;i=this.MeasureText(aB);this.image=t(this.text,aA,i+ay,(ay*this.h)+ay,this.colour,this.bgColour,this.bgOutline,ay*this.bgOutlineThickness,j.shadow,ay*j.shadowBlur,ax,ay*this.padding,ay*this.bgRadius,i,this.line_widths);if(j.outlineMethod=="colour"){this.oimage=t(this.text,aA,i+ay,(ay*this.h)+ay,j.outlineColour,this.bgColour,j.outlineColour,ay*this.bgOutlineThickness,j.shadow,ay*j.shadowBlur,ax,ay*this.padding,ay*this.bgRadius,i,this.line_widths)}if(this.image){this.w=this.image.width/ay;this.h=this.image.height/ay}this.SetDraw(j);j.txtOpt=!!this.image}};b.SetFont=function(i,j){this.textFont=i;this.colour=j;this.extents=r(this.text,this.textFont,this.textHeight);this.Measure(this.tc.ctxt,this.tc)};b.SetWeight=function(i){if(!this.text.length){return}this.weight=i;this.Weight(this.tc.ctxt,this.tc);this.Measure(this.tc.ctxt,this.tc)};b.Weight=function(ay,ax){var j=this.weight,i=ax.weightMode;this.weighted=true;if(i=="colour"||i=="both"){this.colour=g(ax,(j-ax.min_weight)/(ax.max_weight-ax.min_weight))}if(i=="size"||i=="both"){if(ax.weightSizeMin>0&&ax.weightSizeMax>ax.weightSizeMin){this.textHeight=ax.weightSize*(ax.weightSizeMin+(ax.weightSizeMax-ax.weightSizeMin)*(j-ax.min_weight)/(ax.max_weight-ax.min_weight))}else{this.textHeight=j*ax.weightSize}}this.extents=r(this.text,this.textFont,this.textHeight)};b.SetShadowColourFixed=function(ax,j,i){ax.shadowColor=j};b.SetShadowColourAlpha=function(ax,j,i){ax.shadowColor=Q(j,i)};b.DrawText=function(az,aC,ay){var aD=this.tc,aB=this.x,aA=this.y,aE=this.sc,j,ax;az.globalAlpha=this.alpha;az.fillStyle=this.colour;aD.shadow&&this.SetShadowColour(az,aD.shadow,this.alpha);az.font=this.font;aB+=aC/aE;aA+=(ay/aE)-(this.h/2);for(j=0;j<this.text.length;++j){ax=aB-(this.line_widths[j]/2);az.setTransform(aE,0,0,aE,aE*ax,aE*aA);az.fillText(this.text[j],0,0);aA+=this.textHeight}};b.DrawImage=function(az,aG,ay,aB){var aD=this.x,aA=this.y,aH=this.sc,j=aB||this.image,aE=this.w,ax=this.h,aC=this.alpha,aF=this.shadow;az.globalAlpha=aC;aF&&this.SetShadowColour(az,aF,aC);aD+=(aG/aH)-(aE/2);aA+=(ay/aH)-(ax/2);az.setTransform(aH,0,0,aH,aH*aD,aH*aA);az.drawImage(j,0,0,aE,ax)};b.DrawImageIE=function(az,aD,ay){var j=this.image,aE=this.sc,aC=j.width=this.w*aE,ax=j.height=this.h*aE,aB=(this.x*aE)+aD-(aC/2),aA=(this.y*aE)+ay-(ax/2);az.setTransform(1,0,0,1,0,0);az.globalAlpha=this.alpha;az.drawImage(j,aB,aA)};b.Calc=function(i,ax){var j,aA=this.tc,az=aA.minBrightness,ay=aA.maxBrightness,aB=aA.max_radius;j=i.xform(this.position);this.xformed=j;j=S(aA,j,aA.stretchX,aA.stretchY);this.x=j.x;this.y=j.y;this.z=j.z;this.sc=j.w;this.alpha=ax*al(az+(ay-az)*(aB-this.z)/(2*aB),0,1)};b.UpdateActive=function(aC,ax,aA){var az=this.outline,j=this.w,ay=this.h,i=this.x-j/2,aB=this.y-ay/2;az.Update(i,aB,j,ay,this.sc,this.z,ax,aA);return az};b.CheckActive=function(az,i,ay){var j=this.tc,ax=this.UpdateActive(az,i,ay);return ax.Active(az,j.mx,j.my)?ax:null};b.Clicked=function(aA){var j=this.a,ax=j.target,ay=j.href,i;if(ax!=""&&ax!="_self"){if(self.frames[ax]){self.frames[ax].document.location=ay}else{try{if(top.frames[ax]){top.frames[ax].document.location=ay;return}}catch(az){}window.open(ay,ax)}return}if(A.createEvent){i=A.createEvent("MouseEvents");i.initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null);if(!j.dispatchEvent(i)){return}}else{if(j.fireEvent){if(!j.fireEvent("onclick")){return}}}A.location=ay};function w(aC,j,ay){var ax,aA,aB=A.getElementById(aC),az=["id","class","innerHTML"];if(!aB){throw 0}if(ac(window.G_vmlCanvasManager)){aB=window.G_vmlCanvasManager.initElement(aB);this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])}if(aB&&(!aB.getContext||!aB.getContext("2d").fillText)){aA=A.createElement("DIV");for(ax=0;ax<az.length;++ax){aA[az[ax]]=aB[az[ax]]}aB.parentNode.insertBefore(aA,aB);aB.parentNode.removeChild(aB);throw 0}for(ax in w.options){this[ax]=ay&&ac(ay[ax])?ay[ax]:(ac(w[ax])?w[ax]:w.options[ax])}this.canvas=aB;this.ctxt=aB.getContext("2d");this.z1=250/this.depth;this.z2=this.z1/this.zoom;this.radius=at(aB.height,aB.width)*0.0075;this.max_weight=0;this.min_weight=200;this.textFont=this.textFont&&m(this.textFont);this.textHeight*=1;this.pulsateTo=al(this.pulsateTo,0,1);this.minBrightness=al(this.minBrightness,0,1);this.maxBrightness=al(this.maxBrightness,this.minBrightness,1);this.ctxt.textBaseline="top";this.lx=(this.lock+"").indexOf("x")+1;this.ly=(this.lock+"").indexOf("y")+1;this.frozen=this.dx=this.dy=this.fixedAnim=this.touched=0;this.fixedAlpha=1;this.source=j||aC;this.transform=N.Identity();this.startTime=this.time=C();this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition;this.animTiming=(typeof w[this.animTiming]=="function"?w[this.animTiming]:w.Smooth);if(this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]){this.ctxt.shadowColor=this.shadow;this.shadow=this.ctxt.shadowColor;this.shadowAlpha=ae()}else{delete this.shadow}this.Load();if(j&&this.hideTags){(function(i){if(w.loaded){i.HideTags()}else{X("load",function(){i.HideTags()},window)}})(this)}this.yaw=this.initial?this.initial[0]*this.maxSpeed:0;this.pitch=this.initial?this.initial[1]*this.maxSpeed:0;if(this.tooltip){if(this.tooltip=="native"){this.Tooltip=this.TooltipNative}else{this.Tooltip=this.TooltipDiv;if(!this.ttdiv){this.ttdiv=A.createElement("div");this.ttdiv.className=this.tooltipClass;this.ttdiv.style.position="absolute";this.ttdiv.style.zIndex=aB.style.zIndex+1;X("mouseover",function(i){i.target.style.display="none"},this.ttdiv);A.body.appendChild(this.ttdiv)}}}else{this.Tooltip=this.TooltipNone}if(!this.noMouse&&!a[aC]){X("mousemove",Z,aB);X("mouseout",z,aB);X("mouseup",au,aB);X("touchstart",P,aB);X("touchend",p,aB);X("touchcancel",p,aB);X("touchmove",ao,aB);if(this.dragControl){X("mousedown",x,aB);X("selectstart",ap,aB)}if(this.wheelZoom){X("mousewheel",aa,aB);X("DOMMouseScroll",aa,aB)}a[aC]=1}w.started||(w.started=setTimeout(K,this.interval))}M=w.prototype;M.SourceElements=function(){if(A.querySelectorAll){return A.querySelectorAll("#"+this.source)}return[A.getElementById(this.source)]};M.HideTags=function(){var ax=this.SourceElements(),j;for(j=0;j<ax.length;++j){ax[j].style.display="none"}};M.GetTags=function(){var aB=this.SourceElements(),aA,ax=[],az,ay;for(az=0;az<aB.length;++az){aA=aB[az].getElementsByTagName("a");for(ay=0;ay<aA.length;++ay){ax.push(aA[ay])}}return ax};M.CreateTag=function(aA,j){var aD=aA.getElementsByTagName("img"),az,aE,aC,ax,aB,ay;j=j||[0,0,0];if(aD.length){az=new Image;az.src=aD[0].src;aE=new d(this,az,aA,j,0,0);am(az,aD[0],aE,this);return aE}aC=new ar(aA);aE=aC.Lines();ax=this.textFont||m(U(aA,"font-family"));if(this.splitWidth){aE=aC.SplitWidth(this.splitWidth,this.ctxt,ax,this.textHeight)}aB=this.bgColour=="tag"?U(aA,"background-color"):this.bgColour;ay=this.bgOutline=="tag"?U(aA,"color"):this.bgOutline;return new d(this,aE,aA,j,2,this.textHeight+2,this.textColour||U(aA,"color"),aB,this.bgRadius,ay,this.bgOutlineThickness,ax,this.padding,aC.original)};M.UpdateTag=function(ax,i){var ay=this.textColour||U(i,"color"),j=this.textFont||m(U(i,"font-family"));ax.a=i;ax.title=i.title;if(ax.colour!=ay||ax.textFont!=j){ax.SetFont(j,ay)}};M.Weight=function(ay){var ax=ay.length,j,az,aA=[];for(az=0;az<ax;++az){j=s(this,ay[az].a);if(j>this.max_weight){this.max_weight=j}if(j<this.min_weight){this.min_weight=j}aA.push(j)}if(this.max_weight>this.min_weight){for(az=0;az<ax;++az){ay[az].SetWeight(aA[az])}}};M.Load=function(){var aG=this.GetTags(),aC=[],aF,aB,ay,ax,j,az,aE,aA=[],aD={sphere:o,vcylinder:af,hcylinder:ak,vring:c,hring:l};if(aG.length){aA.length=aG.length;for(aE=0;aE<aG.length;++aE){aA[aE]=aE}this.shuffleTags&&ag(aA);ay=100*this.radiusX;ax=100*this.radiusY;j=100*this.radiusZ;this.max_radius=q(ay,q(ax,j));if(this.shapeArgs){this.shapeArgs[0]=aG.length}else{aB=this.shape.toString().split(/[(),]/);aF=aB.shift();this.shape=aD[aF]||aD.sphere;this.shapeArgs=[aG.length,ay,ax,j].concat(aB)}az=this.shape.apply(this,this.shapeArgs);this.listLength=aG.length;for(aE=0;aE<aG.length;++aE){aC.push(this.CreateTag(aG[aA[aE]],az[aE]))}this.weight&&this.Weight(aC,true)}this.taglist=aC};M.Update=function(){var aG=this.GetTags(),aF=[],aA=this.taglist,aH,aE=[],aC=[],ay,aD,ax,aB,az;if(!this.shapeArgs){return this.Load()}if(aG.length){ax=this.listLength=aG.length;aD=aA.length;for(aB=0;aB<aD;++aB){aF.push(aA[aB]);aC.push(aB)}for(aB=0;aB<ax;++aB){for(az=0,aH=0;az<aD;++az){if(aA[az].EqualTo(aG[aB])){this.UpdateTag(aF[az],aG[aB]);aH=aC[az]=-1}}if(!aH){aE.push(aB)}}for(aB=0,az=0;aB<aD;++aB){if(aC[az]==-1){aC.splice(az,1)}else{++az}}if(aC.length){ag(aC);while(aC.length&&aE.length){aB=aC.shift();az=aE.shift();aF[aB]=this.CreateTag(aG[az])}aC.sort(function(j,i){return j-i});while(aC.length){aF.splice(aC.pop(),1)}}az=aF.length/(aE.length+1);aB=0;while(aE.length){aF.splice(ah(++aB*az),0,this.CreateTag(aG[aE.shift()]))}this.shapeArgs[0]=ax=aF.length;ay=this.shape.apply(this,this.shapeArgs);for(aB=0;aB<ax;++aB){aF[aB].position=new Y(ay[aB][0],ay[aB][1],ay[aB][2])}this.weight&&this.Weight(aF)}this.taglist=aF};M.SetShadow=function(i){i.shadowBlur=this.shadowBlur;i.shadowOffsetX=this.shadowOffset[0];i.shadowOffsetY=this.shadowOffset[1]};M.Draw=function(aH){if(this.paused){return}var aB=this.canvas,az=aB.width,aG=aB.height,aJ=0,ay=(aH-this.time)*this.interval/1000,aF=az/2+this.offsetX,aE=aG/2+this.offsetY,aN=this.ctxt,aD,aO,aL,ax=-1,aA=this.taglist,aK=aA.length,j=this.frontSelect,aI=(this.centreFunc==ap),aC;this.time=aH;if(this.frozen&&this.drawn){return this.Animate(az,aG,ay)}aC=this.AnimateFixed();aN.setTransform(1,0,0,1,0,0);for(aL=0;aL<aK;++aL){aA[aL].Calc(this.transform,this.fixedAlpha)}aA=y(aA,function(aP,i){return i.z-aP.z});if(aC&&this.fixedAnim.active){aD=this.fixedAnim.tag.UpdateActive(aN,aF,aE)}else{this.active=null;for(aL=0;aL<aK;++aL){aO=this.mx>=0&&this.my>=0&&this.taglist[aL].CheckActive(aN,aF,aE);if(aO&&aO.sc>aJ&&(!j||aO.z<=0)){aD=aO;ax=aL;aD.tag=this.taglist[aL];aJ=aO.sc}}this.active=aD}this.txtOpt||(this.shadow&&this.SetShadow(aN));aN.clearRect(0,0,az,aG);for(aL=0;aL<aK;++aL){if(!aI&&aA[aL].z<=0){try{this.centreFunc(aN,az,aG,aF,aE)}catch(aM){alert(aM);this.centreFunc=ap}aI=true}if(!(aD&&aD.tag==aA[aL]&&aD.PreDraw(aN,aA[aL],aF,aE))){aA[aL].Draw(aN,aF,aE)}aD&&aD.tag==aA[aL]&&aD.PostDraw(aN)}if(this.freezeActive&&aD){this.Freeze()}else{this.UnFreeze();this.drawn=(aK==this.listLength)}if(this.fixedCallback){this.fixedCallback(this,this.fixedCallbackTag);this.fixedCallback=null}aC||this.Animate(az,aG,ay);aD&&aD.LastDraw(aN);aB.style.cursor=aD?this.activeCursor:"";this.Tooltip(aD,this.taglist[ax])};M.TooltipNone=function(){};M.TooltipNative=function(j,i){this.canvas.title=j&&i.title?i.title:""};M.TooltipDiv=function(az,j){var i=this,ay=i.ttdiv.style,aA=i.canvas.id,ax="none";if(az&&j.title){if(j.title!=i.ttdiv.innerHTML){ay.display=ax}i.ttdiv.innerHTML=j.title;j.title=i.ttdiv.innerHTML;if(ay.display==ax&&!i.tttimer){i.tttimer=setTimeout(function(){var aB=W(aA);ay.display="block";ay.left=aB.x+i.mx+"px";ay.top=aB.y+i.my+24+"px";i.tttimer=null},i.tooltipDelay)}}else{ay.display=ax}};M.Transform=function(aA,i,aC){if(i||aC){var j=ab(i),aB=u(i),aD=ab(aC),az=u(aC),ax=new N([az,0,aD,0,1,0,-aD,0,az]),ay=new N([1,0,0,0,aB,-j,0,j,aB]);aA.transform=aA.transform.mul(ax.mul(ay))}};M.AnimateFixed=function(){var ax,j,az,i,ay;if(this.fadeIn){j=C()-this.startTime;if(j>=this.fadeIn){this.fadeIn=0;this.fixedAlpha=1}else{this.fixedAlpha=j/this.fadeIn}}if(this.fixedAnim){if(!this.fixedAnim.transform){this.fixedAnim.transform=this.transform}ax=this.fixedAnim,j=C()-ax.t0,az=ax.angle,i,ay=this.animTiming(ax.t,j);this.transform=ax.transform;if(j>=ax.t){this.fixedCallbackTag=ax.tag;this.fixedCallback=ax.cb;this.fixedAnim=this.yaw=this.pitch=0}else{az*=ay}i=N.Rotation(az,ax.axis);this.transform=this.transform.mul(i);return(this.fixedAnim!=0)}return false};M.AnimatePosition=function(ax,aA,ay){var j=this,i=j.mx,aC=j.my,az,aB;if(!j.frozen&&i>=0&&aC>=0&&i<ax&&aC<aA){az=j.maxSpeed,aB=j.reverse?-1:1;j.lx||(j.yaw=aB*ay*((az*2*i/ax)-az));j.ly||(j.pitch=aB*ay*-((az*2*aC/aA)-az));j.initial=null}else{if(!j.initial){if(j.frozen&&!j.freezeDecel){j.yaw=j.pitch=0}else{j.Decel(j)}}}this.Transform(j,j.pitch,j.yaw)};M.AnimateDrag=function(j,az,ay){var i=this,ax=100*ay*i.maxSpeed/i.max_radius/i.zoom;if(i.dx||i.dy){i.lx||(i.yaw=i.dx*ax/i.stretchX);i.ly||(i.pitch=i.dy*-ax/i.stretchY);i.dx=i.dy=0;i.initial=null}else{if(!i.initial){i.Decel(i)}}this.Transform(i,i.pitch,i.yaw)};M.Freeze=function(){if(!this.frozen){this.preFreeze=[this.yaw,this.pitch];this.frozen=1;this.drawn=0}};M.UnFreeze=function(){if(this.frozen){this.yaw=this.preFreeze[0];this.pitch=this.preFreeze[1];this.frozen=0}};M.Decel=function(i){var ax=i.minSpeed,az=H(i.yaw),j=H(i.pitch);if(!i.lx&&az>ax){i.yaw=az>i.z0?i.yaw*i.decel:0}if(!i.ly&&j>ax){i.pitch=j>i.z0?i.pitch*i.decel:0}};M.Zoom=function(i){this.z2=this.z1*(1/i);this.drawn=0};M.Clicked=function(ax){var i=this.active;try{if(i&&i.tag){if(this.clickToFront===false||this.clickToFront===null){i.tag.Clicked(ax)}else{this.TagToFront(i.tag,this.clickToFront,function(){i.tag.Clicked(ax)},true)}}}catch(j){}};M.Wheel=function(j){var ax=this.zoom+this.zoomStep*(j?1:-1);this.zoom=at(this.zoomMax,q(this.zoomMin,ax));this.Zoom(this.zoom)};M.BeginDrag=function(i){this.down=O(i,this.canvas);i.cancelBubble=true;i.returnValue=false;i.preventDefault&&i.preventDefault()};M.Drag=function(az,ay){if(this.dragControl&&this.down){var ax=this.dragThreshold*this.dragThreshold,j=ay.x-this.down.x,i=ay.y-this.down.y;if(this.dragging||j*j+i*i>ax){this.dx=j;this.dy=i;this.dragging=1;this.down=ay}}};M.EndDrag=function(){var i=this.dragging;this.dragging=this.down=null;return i};M.Pause=function(){this.paused=true};M.Resume=function(){this.paused=false};M.SetSpeed=function(j){this.initial=j;this.yaw=j[0]*this.maxSpeed;this.pitch=j[1]*this.maxSpeed};M.FindTag=function(ax){if(!ac(ax)){return null}ac(ax.index)&&(ax=ax.index);if(!E(ax)){return this.taglist[ax]}var ay,az,j;if(ac(ax.id)){ay="id",az=ax.id}else{if(ac(ax.text)){ay="innerText",az=ax.text}}for(j=0;j<this.taglist.length;++j){if(this.taglist[j].a[ay]==az){return this.taglist[j]}}};M.RotateTag=function(aF,ay,aE,i,aC,ax){var aD=aF.xformed,aA=new Y(aD.x,aD.y,aD.z),az=ad(aE,ay),j=aA.angle(az),aB=aA.cross(az).unit();if(j==0){this.fixedCallbackTag=aF;this.fixedCallback=aC}else{this.fixedAnim={angle:-j,axis:aB,t:i,t0:C(),cb:aC,tag:aF,active:ax}}};M.TagToFront=function(i,ax,ay,j){this.RotateTag(i,0,0,ax,ay,j)};w.Start=function(ax,i,j){w.tc[ax]=new w(ax,i,j)};function an(i,j){w.tc[j]&&w.tc[j][i]()}w.Linear=function(i,j){return j/i};w.Smooth=function(i,j){return 0.5-u(j*Math.PI/i)/2};w.Pause=function(i){an("Pause",i)};w.Resume=function(i){an("Resume",i)};w.Reload=function(i){an("Load",i)};w.Update=function(i){an("Update",i)};w.SetSpeed=function(j,i){if(E(i)&&w.tc[j]&&!isNaN(i[0])&&!isNaN(i[1])){w.tc[j].SetSpeed(i);return true}return false};w.TagToFront=function(j,i){if(!E(i)){return false}i.lat=i.lng=0;return w.RotateTag(j,i)};w.RotateTag=function(ax,i){if(E(i)&&w.tc[ax]){if(isNaN(i.time)){i.time=500}var j=w.tc[ax].FindTag(i);if(j){w.tc[ax].RotateTag(j,i.lat,i.lng,i.time,i.callback,i.active);return true}}return false};w.Delete=function(i){delete a[i];delete w.tc[i]};w.NextFrame=function(i){var j=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;w.NextFrame=j?w.NextFrameRAF:w.NextFrameTimeout;w.NextFrame(i)};w.NextFrameRAF=function(){requestAnimationFrame(K)};w.NextFrameTimeout=function(i){setTimeout(K,i)};w.tc={};w.options={z1:20000,z2:20000,z0:0.0002,freezeActive:false,freezeDecel:false,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:false,depth:0.5,maxSpeed:0.05,minSpeed:0,decel:0.95,interval:20,minBrightness:0.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:true,zoom:1,weight:false,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",0.33:"#ff0",0.66:"#0f0",1:"#00f"},txtOpt:true,txtScale:2,frontSelect:false,wheelZoom:true,zoomMin:0.3,zoomMax:3,zoomStep:0.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:false,noSelect:false,noMouse:false,imageScale:1,paused:false,dragControl:false,dragThreshold:4,centreFunc:ap,splitWidth:0,animTiming:"Smooth",clickToFront:false,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0};for(I in w.options){w[I]=w.options[I]}window.TagCanvas=w;X("load",function(){w.loaded=1},window)})();
